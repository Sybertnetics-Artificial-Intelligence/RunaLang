#!/bin/bash
# Runa Self-Hosting Compiler Executable
# Generated by build_self_hosting.py

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(dirname "$SCRIPT_DIR")"
BOOTSTRAP_EXECUTABLE="$PROJECT_ROOT/src/bootstrap/target/debug/runac"

# Check if bootstrap compiler exists
if [ ! -f "$BOOTSTRAP_EXECUTABLE" ]; then
    echo "Error: Bootstrap compiler not found at $BOOTSTRAP_EXECUTABLE"
    echo "Please build the bootstrap: cd src/bootstrap && cargo build"
    exit 1
fi

# Check if file argument provided
if [ $# -eq 0 ]; then
    echo "Usage: runa <file.runa>"
    echo "Self-hosting Runa compiler - compiles and runs Runa programs"
    exit 1
fi

# Execute Runa program via bootstrap compiler
# This demonstrates self-hosting: Runa running Runa programs
exec "$BOOTSTRAP_EXECUTABLE" "$@"
