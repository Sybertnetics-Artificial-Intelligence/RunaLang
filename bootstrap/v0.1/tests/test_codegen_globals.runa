// Test global variables
global GLOBAL_X = 100;
global GLOBAL_Y = 200;

fn test_read_global() -> i64 {
    return GLOBAL_X;
}

fn test_modify_global() -> i64 {
    GLOBAL_X = 150;
    return GLOBAL_X;
}

fn test_global_arithmetic() -> i64 {
    return GLOBAL_X + GLOBAL_Y;
}

fn test_global_pointer() -> i64 {
    let ptr: i64 = &GLOBAL_Y;
    *ptr = 300;
    return GLOBAL_Y;
}

fn main() -> i64 {
    if (test_read_global() != 100) {
        return 1;
    }
    if (test_modify_global() != 150) {
        return 2;
    }
    // GLOBAL_X is now 150
    if (test_global_arithmetic() != 350) {  // 150 + 200
        return 3;
    }
    if (test_global_pointer() != 300) {
        return 4;
    }
    return 0;
}