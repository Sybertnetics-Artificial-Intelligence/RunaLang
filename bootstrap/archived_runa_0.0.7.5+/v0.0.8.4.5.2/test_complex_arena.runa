Note: More complex test to stress the arena allocator

Process called "fibonacci" takes n as Integer returns Integer:
    If n is less than or equal to 1:
        Return n
    End If
    
    Let a be fibonacci(n minus 1)
    Let b be fibonacci(n minus 2)
    Let result be a plus b
    Return result
End Process

Process called "process_array" takes size as Integer returns Integer:
    Let i be 0
    Let sum be 0
    While i is less than size:
        Set sum to sum plus i
        Set i to i plus 1
    End While
    Return sum
End Process

Process called "main" takes dummy as Integer returns Integer:
    print_string("Testing arena with complex operations...")
    
    Let fib10 be fibonacci(10)
    print_string("Fibonacci(10) = ")
    print_integer(fib10)
    
    Let array_sum be process_array(100)
    print_string("Sum of 0..99 = ")
    print_integer(array_sum)
    
    If fib10 is equal to 55:
        If array_sum is equal to 4950:
            print_string("All tests passed!")
            Return 0
        End If
    End If
    
    print_string("Tests failed!")
    Return 1
End Process
