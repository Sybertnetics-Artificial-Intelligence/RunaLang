# Test for CRITICAL FIX #1: Imports system
# Tests that imported functions can be called from the main program

Import "tests/unit/test_imports_helper.runa" as Math

Process called "main" takes argc as Integer, argv as Integer returns Integer:
    # Test 1: Call imported add function
    Let result1 be add(5, 3)
    If result1 is equal to 8:
        Display("PASS: Test 1 - imported add function")
    Otherwise:
        Display("FAIL: Test 1 - imported add function")
    End If

    # Test 2: Call imported multiply function
    Let result2 be multiply(4, 7)
    If result2 is equal to 28:
        Display("PASS: Test 2 - imported multiply function")
    Otherwise:
        Display("FAIL: Test 2 - imported multiply function")
    End If

    # Test 3: Call imported recursive function (factorial)
    Let result3 be factorial(5)
    If result3 is equal to 120:
        Display("PASS: Test 3 - imported recursive factorial")
    Otherwise:
        Display("FAIL: Test 3 - imported recursive factorial")
    End If

    # Test 4: Use imported function in expression
    Let x be 10
    Let y be 20
    Let result4 be add(x, y) multiplied by 2
    If result4 is equal to 60:
        Display("PASS: Test 4 - imported function in expression")
    Otherwise:
        Display("FAIL: Test 4 - imported function in expression")
    End If

    Return 0
End Process
