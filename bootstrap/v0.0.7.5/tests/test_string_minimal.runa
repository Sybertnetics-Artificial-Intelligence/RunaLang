# Minimal test to verify testing infrastructure
# Tests basic string_builder functionality

Process called "main" takes argc as Integer, argv as Integer returns Integer:
    Print "Testing string_utils..."
    Print ""

    # Test 1: Create string builder
    Print "Test 1: string_builder_create"
    Let sb be string_builder_create()
    If sb is equal to 0:
        Print "FAILED: Could not create string builder"
        Return 1
    End If
    Print "PASSED: Created string builder"

    # Test 2: Get initial length
    Print "Test 2: Initial length should be 0"
    Let initial_length be string_builder_length(sb)
    If initial_length is not equal to 0:
        Print "FAILED: Initial length is not 0"
        Return 1
    End If
    Print "PASSED: Initial length is 0"

    # Test 3: Append string
    Print "Test 3: Append 'Hello'"
    Let hello_ptr be "Hello"
    string_builder_append(sb, hello_ptr)
    Let length_after be string_builder_length(sb)
    If length_after is not equal to 5:
        Print "FAILED: Length after append is not 5"
        Return 1
    End If
    Print "PASSED: Length is 5 after append"

    # Test 4: Get string
    Print "Test 4: Get string content"
    Let result be string_builder_to_string(sb)
    If result is equal to 0:
        Print "FAILED: Could not get string"
        Return 1
    End If
    Print "PASSED: Got string content"

    # Clean up
    string_builder_destroy(sb)

    Print ""
    Print "All tests passed!"
    Return 0
End Process