Process called "main" takes argc as Integer, argv as Pointer returns Integer:
    Let content be "Let x be 10"
    
    Let lexer be lexer_create(content)
    Let parser be parser_create(lexer)
    Let program be parser_parse_program(parser)
    
    If program is equal to 0:
        parser_destroy(parser)
        lexer_destroy(lexer)
        Return 1
    End If
    
    Let codegen be codegen_create("output.s")
    If codegen is equal to 0:
        program_destroy(program)
        parser_destroy(parser) 
        lexer_destroy(lexer)
        Return 1
    End If
    
    codegen_generate(codegen, program)
    
    codegen_destroy(codegen)
    program_destroy(program)
    parser_destroy(parser)
    lexer_destroy(lexer)
    
    Return 0
End Process
