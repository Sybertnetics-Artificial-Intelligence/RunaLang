Note: Comprehensive struct test - all features
Note: Tests: struct construction, field read, field write, type inference

Type called "Point":
    x as Integer
    y as Integer
End Type

Type called "Rectangle":
    x as Integer
    y as Integer
    width as Integer
    height as Integer
End Type

Process called "main" returns Integer:
    Note: Test 1: Basic struct construction with Point
    Let p be a Point with x 10 and y 20
    Let px be the x of p
    Let py be the y of p
    Display px
    Display py

    Note: Test 2: Field write access
    Set the x of p to 100
    Set the y of p to 200
    Let px2 be the x of p
    Let py2 be the y of p
    Display px2
    Display py2

    Note: Test 3: Multi-field struct (Rectangle)
    Let rect be a Rectangle with x 5 and y 10 and width 50 and height 25
    Let rx be the x of rect
    Let ry be the y of rect
    Let rw be the width of rect
    Let rh be the height of rect
    Display rx
    Display ry
    Display rw
    Display rh

    Note: Test 4: Field modification and calculation
    Set the width of rect to 100
    Set the height of rect to 75
    Let new_w be the width of rect
    Let new_h be the height of rect
    Let area be new_w multiplied by new_h
    Display new_w
    Display new_h
    Display area

    Note: Cleanup
    deallocate(p)
    deallocate(rect)

    Return 0
End Process
